(function(){"use strict";var t={814:function(t,e,a){var s=a(144),o=function(){var t=this,e=t._self._c;return e("div",[e("Navbar")],1)},n=[],i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("nav",{staticClass:"navbar navbar-expand-md bg-light"},[e("div",{staticClass:"navbar-collapse collapse w-100 order-1 mt-1 order-md-0 dual-collapse2"},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item mt-1"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Campus Ticket Hub")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Home")])],1),e("li",[e("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("About")])],1),e("li",[e("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v("Login")])],1),e("li",[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin-login"}},[t._v("Admin Login")])],1)])]),e("div",{staticClass:"ml-auto"},[e("uL",[e("li",{staticClass:"nav-item mt-1 list-unstyled"},[t.checkLogin()?e("button",{staticClass:"button btn-primary btn",on:{click:function(e){return t.logout()}}},[t._v("Logout")]):t._e()])])],1)]),e("router-view")],1)},r=[],l={name:"Navbar",methods:{logout(){localStorage.removeItem("token"),null===localStorage.getItem("token")&&this.$router.push("/intro")},checkLogin(){return null!==localStorage.getItem("token")}}},c=l,u=a(1),m=(0,u.Z)(c,i,r,!1,null,null,null),h=m.exports,d={components:{Navbar:h}},p=d,v=(0,u.Z)(p,o,n,!1,null,null,null),g=v.exports,f=a(345),w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"d-flex justify-content-around mt-4"},[e("div",[e("h3",{staticClass:"text-sm-left"},[t._v("Hey "+t._s(t.username)+"! Welcome to your Dashboard")]),e("h5",[t._v("Take a look at all the shows")])]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchForShow,expression:"searchForShow"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search for a show","aria-label":"Search for a show","aria-describedby":"button-addon2"},domProps:{value:t.searchForShow},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchShow(t.searchForShow)},input:function(e){e.target.composing||(t.searchForShow=e.target.value)}}})]),e("div",[e("Button",{staticClass:"btn btn-primary",on:{click:function(e){return t.seeBookings()}}},[t._v("See All your bookings")])],1)]),e("UserDashboard")],1)},b=[],C=function(){var t=this,e=t._self._c;return e("div",{},t._l(t.venues,(function(a){return e("div",{staticClass:"container p-5 m-5 h-auto border border-5 rounded-5"},[e("h1",{},[t._v(t._s(a[1]))]),e("div",{staticClass:"row col-lg-12 px-5 mx-auto mb-4"},t._l(t.venueAndShows[a[1]],(function(s){return e("div",{staticClass:"card mx-auto",staticStyle:{width:"18rem"}},[e("div",{staticClass:"card-body"},[e("div",{},[e("h5",{staticClass:"card-title"},[t._v(t._s(s[1]))]),e("h6",{staticClass:"card-subtitle mb-2 text-body-secondary"},[t._v("time: "+t._s(s[3]))])]),e("button",{staticClass:"btn btn-primary mt-3",attrs:{type:"button"},on:{click:function(e){return t.bookTicket(s[1],a[1],t.username)}}},[t._v("Book Ticket")])])])})),0)])})),0)},_=[],y=a(154),x={name:"UserDashboard",data(){return{username:localStorage.getItem("email").substring(0,localStorage.getItem("email").indexOf("@")),email:localStorage.getItem("email"),venues:["Venue 1","Venue 2","Venue 3"],shows:["Show 1","Show 2","Show 3"],venueAndShows:{}}},methods:{bookTicket(t,e,a){console.log("book ticket"),this.$router.push({name:"bookTicket",params:{username:a,venuename:e,showname:t}})}},created(){y.Z.get("http://127.0.0.1:5000/api/all-details").then((t=>{console.log(t.data),this.venues=t.data.venueList,this.shows=t.data.showList,this.venueAndShows=t.data.venueAndShow})).catch((t=>{console.log(t)}))}},k=x,S=(0,u.Z)(k,C,_,!1,null,null,null),D=S.exports,N={name:"HomeView",components:{UserDashboard:D},data:function(){return{username:localStorage.getItem("email").substring(0,localStorage.getItem("email").indexOf("@")),searchForShow:""}},methods:{seeBookings(){this.$router.push({name:"seeTickets",params:{username:this.username}})},searchShow(t){console.log(t),this.$router.push({name:"searchShow",params:{showName:t}})}}},P=N,T=(0,u.Z)(P,w,b,!1,null,null,null),E=T.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-custom"},[e("div",{staticClass:"bg-light container h-75 p-5 vertical-custom rounded-5"},[e("h1",{staticClass:"display-4"},[t._v("Admin Login")]),e("div",{staticClass:"input-div"},[e("p",{staticClass:"label-text"},[t._v("Enter your email-id here")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input input-text-custom input-box text-center rounded-5",attrs:{placeholder:"name@example.com",type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"input-div"},[e("p",{staticClass:"label-text"},[t._v("Enter your password here")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input input-text-custom input-box rounded-5 text-center",attrs:{placeholder:"password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"mt-4"},[e("button",{staticClass:"button btn-danger btn-lg btn",on:{click:function(e){return t.adminlogin()}}},[t._v("Login")])])])])},Z=[],O={data(){return{email:"",password:""}},methods:{adminlogin(){y.Z.post("http://127.0.0.1:5000/api/auth/admin-login",{email:this.email,password:this.password}).then((t=>{console.log(t.data);const e=t.data.message;if("success"===e){const e=t.data.access_token;localStorage.setItem("token",e),this.$router.push("/adminDashboard/")}else alert("Invalid Credentials")})).catch((t=>{console.log(t)}))}}},$=O,F=(0,u.Z)($,L,Z,!1,null,null,null),V=F.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-custom"},[e("div",{staticClass:"bg-light container h-75 p-5 vertical-custom rounded-5"},[e("h1",{staticClass:"display-4"},[t._v("Register/Login")]),e("div",{staticClass:"input-div"},[e("p",{staticClass:"label-text"},[t._v("Enter your email-id here")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input input-text-custom input-box rounded-5 text-center",attrs:{placeholder:"name@example.com",type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"input-div"},[e("p",{staticClass:"label-text"},[t._v("Enter your password here")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input input-text-custom input-box rounded-5 text-center",attrs:{placeholder:"password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"mt-4"},[e("button",{staticClass:"button btn-danger btn-lg btn mx-5",on:{click:function(e){return t.register()}}},[t._v("Register")]),e("button",{staticClass:"button btn btn-lg btn-danger mx-5",on:{click:function(e){return t.login()}}},[t._v("Login")])])])])},I=[],B={data(){return{email:"",password:""}},methods:{register(){console.log(this.email),console.log(this.password),y.Z.post("http://127.0.0.1:5000/api/auth/register",{email:this.email,password:this.password}).then((t=>{console.log(t.data)})).catch((t=>{console.log(t)}))},login(){y.Z.post("http://127.0.0.1:5000/api/auth/login",{email:this.email,password:this.password}).then((t=>{console.log(t.data);const e=t.data.message;if("success"===e){const e=t.data.access_token;localStorage.setItem("token",e),localStorage.setItem("email",this.email),this.$router.push("/home/")}else alert("Invalid Credentials")})).catch((t=>{console.log(t)}))}}},j=B,H=(0,u.Z)(j,A,I,!1,null,null,null),U=H.exports,R=function(){var t=this;t._self._c;return t._m(0)},G=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"home bg-custom"},[e("div",{staticClass:"container"},[e("div",{staticClass:"vertical-center"},[e("h1",{staticClass:"display-3"},[t._v(" Explore, Book and Discover College Entertainment ")])])])])}],q={name:"introView",components:{Navbar:h}},M=q,K=(0,u.Z)(M,R,G,!1,null,null,null),W=K.exports,X=function(){var t=this,e=t._self._c;return e("div",[t.venueListIsEmpty()?e("button",{staticClass:"btn btn-primary text-center my-auto",on:{click:function(e){return t.createVenue()}}},[t._v("+")]):t._e(),e("div",{staticClass:"container"},[e("h1",[t._v("Hello Admin")]),t._l(t.venues,(function(a){return e("div",{staticClass:"container border border-bottom-5 venue-container"},[e("div",{},[e("h1",{},[t._v(t._s(a[1]))])]),e("div",{staticClass:"row col-lg-12 px-5 mx-auto mb-4"},t._l(t.venueAndShows[a[1]],(function(a){return e("div",{staticClass:"card",staticStyle:{width:"18rem"}},[e("div",{staticClass:"card-body"},[e("div",{},[e("h5",{staticClass:"card-title"},[t._v(t._s(a[1]))]),e("h6",{staticClass:"card-subtitle mb-2 text-body-secondary"},[t._v("time: "+t._s(a[3]))])]),e("button",{staticClass:"btn btn-primary mt-3 mx-2",attrs:{type:"button"},on:{click:function(e){return t.editShow(a[1])}}},[t._v("Edit")]),e("button",{staticClass:"btn btn-primary mt-3 mx-2",attrs:{type:"button"},on:{click:function(e){return t.deleteShow(a[1],a[3])}}},[t._v("Delete")])])])})),0),e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.createShow(a[1],a[4])}}},[t._v("Add Shows")])])})),t.venueListIsEmpty()?t._e():e("button",{staticClass:"btn btn-primary text-center my-auto mt-5 mx-4",on:{click:function(e){return t.createVenue()}}},[t._v("+")]),e("button",{staticClass:"btn btn-primary text-center my-auto mt-5",on:{click:function(e){return t.exportVenuePDF()}}},[t._v("Export Venue Details")]),e("button",{staticClass:"btn btn-primary text-center my-auto mx-3 mt-5",on:{click:function(e){return t.exportShowDetails()}}},[t._v("Export Show Details")])],2)])},Y=[],z={data(){return{venues:[],shows:[],venueAndShows:{}}},methods:{editShow(t){this.$router.push({name:"editShow",params:{showname:t}})},deleteShow(t,e){y.Z.post("http://127.0.0.1:5000/api/deleteShow",{showname:t,time:e}).then((t=>{console.log(t.data),this.$router.go()})).catch((t=>{console.log(t)}))},createVenue(){this.$router.push({name:"createVenue"})},venueListIsEmpty(){return 0==this.venues.length},createShow(t,e){this.$router.push({name:"createShow",params:{venuename:t,venuecapacity:e}})},async exportVenuePDF(){const t=[(this.venues,this.shows,this.venueAndShows)];try{const e=await y.Z.post("http://127.0.0.1:5000/api/exportVenuePDF",t),a=e.data.pdf_file;if(window.navigator.msSaveOrOpenBlob)window.location.href=`http://127.0.0.1:5000/api/downloadVenuePDF/${a}`;else{const t=document.createElement("a");t.href=`http://127.0.0.1:5000/api/downloadVenuePDF/${a}`,t.target="_blank",t.download="venue_details.pdf",t.click()}alert("PDF Generated")}catch(e){console.error(e),alert("Failed to generate PDF. Please try again.")}},async exportShowDetails(){const t=[this.show];try{const e=await y.Z.post("http://127.0.0.1:5000/api/exportShowPDF",t),a=e.data.pdf_file;if(window.navigator.msSaveOrOpenBlob)window.location.href=`http://127.0.0.1:5000/api/downloadShowPDF/${a}`;else{const t=document.createElement("a");t.href=`http://127.0.0.1:5000/api/downloadShowPDF/${a}`,t.target="_blank",t.download="show_details.pdf",t.click()}alert("PDF Generated")}catch(e){console.error(e),alert("Failed to generate PDF. Please try again.")}}},created(){y.Z.get("http://127.0.0.1:5000/api/all-details").then((t=>{console.log(t.data),this.venues=t.data.venueList,this.shows=t.data.showList,this.venueAndShows=t.data.venueAndShow})).catch((t=>{console.log(t)}))}},J=z,Q=(0,u.Z)(J,X,Y,!1,null,null,null),tt=Q.exports,et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"venueName"}},[t._v("Venue Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"venueName",placeholder:"Enter Venue Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"venuePlace"}},[t._v("Place")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.place,expression:"place"}],staticClass:"form-control",attrs:{type:"text",id:"venuePlace",placeholder:"Enter Place: Example IITM"},domProps:{value:t.place},on:{input:function(e){e.target.composing||(t.place=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"venueLocation"}},[t._v("Location")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticClass:"form-control",attrs:{type:"text",id:"venueLocation",placeholder:"Enter Location: Example Chennai"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"venueCapacity"}},[t._v("Capacity")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.capacity,expression:"capacity"}],staticClass:"form-control",attrs:{type:"text",id:"venueCapacity",placeholder:"Enter Capacity: Example 250"},domProps:{value:t.capacity},on:{input:function(e){e.target.composing||(t.capacity=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary mt-3",on:{click:function(e){return t.createVenue()}}},[t._v("Submit")])])},at=[],st={name:"CreateVenue",data(){return{name:"",place:"",location:"",capacity:""}},methods:{createVenue(){y.Z.post("http://127.0.0.1:5000/api/createVenue",{name:this.name,place:this.place,location:this.location,capacity:this.capacity}).then((t=>{console.log(t.data),this.$router.push({name:"adminDashboard"})})).catch((t=>{console.log(t)}))}}},ot=st,nt=(0,u.Z)(ot,et,at,!1,null,null,null),it=nt.exports,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"container"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"showName",placeholder:"Enter Show Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rating,expression:"rating"}],staticClass:"form-control",attrs:{type:"text",id:"showRating",placeholder:"Enter Rating"},domProps:{value:t.rating},on:{input:function(e){e.target.composing||(t.rating=e.target.value)}}})]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],staticClass:"form-control",attrs:{type:"text",id:"showTime",placeholder:"Enter Timing"},domProps:{value:t.time},on:{input:function(e){e.target.composing||(t.time=e.target.value)}}})]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tags,expression:"tags"}],staticClass:"form-control",attrs:{type:"text",id:"showTags",placeholder:"Enter Tags"},domProps:{value:t.tags},on:{input:function(e){e.target.composing||(t.tags=e.target.value)}}})]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text",id:"showPrice",placeholder:"Enter Price"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary mt-3",on:{click:function(e){return t.createShow()}}},[t._v("Save")])])])},lt=[],ct={name:"CreateShow",data(){return{name:"",rating:"",time:"",tags:"",price:"",venuename:this.$route.params.venuename,showcapacity:this.$route.params.venuecapacity}},methods:{createShow(){y.Z.post("http://127.0.0.1:5000/api/createshow",{name:this.name,rating:parseInt(this.rating),time:this.time,tags:this.tags,price:parseInt(this.price),venuename:this.venuename,showcapacity:this.showcapacity}).then((t=>{console.log(t.data),this.$router.push({name:"adminDashboard"})})).catch((t=>{console.log(t)}))},created(){y.Z.post("http://127.0.0.1:5000/api/getvenuecapacity",{venuename:this.venuename}).then((t=>{console.log("This is for the capacity"),console.log(t.data),this.showcapacity=t.data.showcapacity})).catch((t=>{console.log(t)}))}}},ut=ct,mt=(0,u.Z)(ut,rt,lt,!1,null,null,null),ht=mt.exports,dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("h1",[t._v("Edit Show")]),e("div",{staticClass:"container"},[e("div",{},[t._v(" Edit Show: "+t._s(t.name)+" ")]),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rating,expression:"rating"}],staticClass:"form-control",attrs:{type:"text",id:"showRating",placeholder:"Enter Rating"},domProps:{value:t.rating},on:{input:function(e){e.target.composing||(t.rating=e.target.value)}}})]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],staticClass:"form-control",attrs:{type:"text",id:"showTime",placeholder:"Enter Timing"},domProps:{value:t.time},on:{input:function(e){e.target.composing||(t.time=e.target.value)}}})]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tags,expression:"tags"}],staticClass:"form-control",attrs:{type:"text",id:"showTags",placeholder:"Enter Tags"},domProps:{value:t.tags},on:{input:function(e){e.target.composing||(t.tags=e.target.value)}}})]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text",id:"showPrice",placeholder:"Enter Price"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.venuename,expression:"venuename"}],staticClass:"form-control",attrs:{type:"text",id:"showVenueName",placeholder:t.venuename},domProps:{value:t.venuename},on:{input:function(e){e.target.composing||(t.venuename=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary mt-3",on:{click:function(e){return t.editShow()}}},[t._v("Save")])])])},pt=[],vt={data(){return{name:"",rating:"",time:"",tags:"",price:"",venuename:"",showname:this.$route.params.showname}},methods:{editShow(){y.Z.post("http://127.0.0.1:5000/api/editShowDetails",{showname:this.showname,rating:this.rating,time:this.time,tags:this.tags,price:this.price,venuename:this.venuename}).then((t=>{console.log(t.data),this.$router.push({name:"adminDashboard"})})).catch((t=>{console.log(t)}))}},created(){y.Z.post("http://127.0.0.1:5000/api/showDetails",{showname:this.showname}).then((t=>{console.log(t.data.showDetails[0]),this.name=t.data.showDetails[0][1],this.rating=t.data.showDetails[0][2],this.time=t.data.showDetails[0][3],this.tags=t.data.showDetails[0][4],this.price=t.data.showDetails[0][5],this.venuename=t.data.showDetails[0][6]})).catch((t=>{console.log(t)}))}},gt=vt,ft=(0,u.Z)(gt,dt,pt,!1,null,null,null),wt=ft.exports,bt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"d-flex justify-content-between p-3"},[e("div",[e("h2",[t._v("Booking Show: "+t._s(t.showName)+" ( "+t._s(t.venueName)+" )")])]),e("div",[e("p",[t._v("Time: "+t._s(t.showDetails.showTime))])])]),e("div",[e("div",[e("h4",[t._v("Available Seats : "+t._s(t.showCapacity))])]),e("div",{staticClass:"d-flex justify-content-center"},[e("h4",{staticClass:"m-2"},[t._v("Enter Number of Seats you want: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.numberOfSeats,expression:"numberOfSeats"}],staticClass:"m-2",attrs:{type:"number",min:"1",placeholder:"Enter Number of Seats"},domProps:{value:t.numberOfSeats},on:{input:function(e){e.target.composing||(t.numberOfSeats=e.target.value)}}})]),e("div",{staticClass:"d-flex justify-content-center"},[e("h4",{staticClass:"m-1"},[t._v("Price: ")]),e("h4",{staticClass:"m-1"},[t._v(t._s(t.showDetails.showPrice))])]),e("div",{staticClass:"d-flex justify-content-center"},[e("h4",{staticClass:"m-1"},[t._v("Total Price: ")]),e("h4",{staticClass:"m-1"},[t._v(t._s(t.showDetails.showPrice*t.numberOfSeats))])]),e("div",[e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.bookTicket()}}},[t._v("Book Ticket")])])])])},Ct=[],_t={name:"bookTicket",data(){return{numberOfSeats:1,totalPrice:0,showCapacity:0,venues:[],showList:[],showName:this.$route.params.showname,venueName:this.$route.params.venuename,username:this.$route.params.username,venueDetails:{},showDetails:{}}},methods:{bookTicket(){y.Z.post("http://127.0.0.1:5000/api/bookticket",{username:this.username,showName:this.showName,venueName:this.venueName,numberOfSeats:this.numberOfSeats,totalPrice:this.showDetails.showPrice*this.numberOfSeats}).then((t=>{console.log(t.data),this.$router.push({name:"home"})})).catch((t=>{console.log(t)}))},getVenueDetails(t){console.log(t);for(let e=0;e<this.venues.length;e++)if(this.venues[e][1]==t){let t={venueName:this.venues[e][1],venueCapacity:this.venues[e][4]};return t}return null},getShowDetails(t){console.log(t);for(let e=0;e<this.showList.length;e++)if(this.showList[e][1]==t){let t={showName:this.showList[e][1],showTime:this.showList[e][3],showPrice:this.showList[e][5],showCapacity:this.showList[e][7]};return t}return null}},created(){y.Z.get("http://127.0.0.1:5000/api/all-details").then((t=>{console.log(t.data),this.venues=t.data.venueList,this.showList=t.data.showList,this.venueDetails=this.getVenueDetails(this.venueName),this.showDetails=this.getShowDetails(this.showName),this.showCapacity=this.showDetails.showCapacity})).catch((t=>{console.log(t)}))},mounted(){this.venueDetails=this.getVenueDetails(this.venueName),console.log(this.venueDetails)}},yt=_t,xt=(0,u.Z)(yt,bt,Ct,!1,null,null,null),kt=xt.exports,St=function(){var t=this,e=t._self._c;return e("div",{staticClass:"seeTickets"},[t._m(0),t._l(t.showDetails,(function(a){return e("div",[e("div",{},[e("div",{staticClass:"border border-top-5 m-2 p-3"},[e("div",{staticClass:"text-align-custom d-flex justify-content-around"},[e("div",{staticClass:"w-25 show-details-box"},[e("h4",{staticClass:"card-title"},[t._v(t._s(a[2]))]),e("h5",{staticClass:"card-subtitle mb-2"},[t._v("("+t._s(a[6])+")")]),e("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("Number of Tickets: "+t._s(a[4]))]),e("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("Total Cost: "+t._s(a[5]))])]),e("div",[e("button",{staticClass:"btn-red mt-5 mx-3",on:{click:function(e){return t.deleteBooking(a[2],a[1],a[4])}}},[t._v("Delete")])])])])])])})),e("div",{staticClass:"col-auto"},[e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.backToUserDashboard()}}},[t._v("Back to User Dashboard")])])],2)},Dt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-align-custom"},[e("h1",{},[t._v("Your Bookings")])])}],Nt={name:"seeTickets",data:function(){return{showDetails:[],username:this.$route.params.username}},methods:{deleteBooking(t,e,a){y.Z.post("http://127.0.0.1:5000/api/deleteUserBooking",{showname:t,username:e,numberOfTickets:a}).then((t=>{console.log(t.data),this.$router.go()})).catch((t=>{console.log(t)}))},backToUserDashboard(){this.$router.push({name:"home",params:{username:this.username}})}},created(){y.Z.post("http://127.0.0.1:5000/api/getUserBookingDetails",{username:this.username}).then((t=>{console.log(t.data),this.showDetails=t.data.userBookingDetails})).catch((t=>{console.log(t)}))}},Pt=Nt,Tt=(0,u.Z)(Pt,St,Dt,!1,null,null,null),Et=Tt.exports,Lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"d-flex flex-wrap justify-content-around mt-4"},[e("div",[e("h3",{staticClass:"text-sm-left"},[t._v("Please Be Patient")]),e("h5",[t._v("Looking for "+t._s(t.showName))])]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchForShow,expression:"searchForShow"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search for a show","aria-label":"Search for a show","aria-describedby":"button-addon2"},domProps:{value:t.searchForShow},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchShow(t.searchForShow)},input:function(e){e.target.composing||(t.searchForShow=e.target.value)}}})])]),e("div"),e("div",{staticClass:"d-flex flex-wrap"},t._l(t.showDetails,(function(a){return e("div",{staticClass:"container bg-active d-flex w-25 mx-3 h-100"},[e("div",{staticClass:"bg-custom-card"},[e("div",{staticClass:"text-center"},[e("h3",[t._v(t._s(a[1]))])]),e("div",{staticClass:"text-center"},[e("h5",[t._v("Timing: "+t._s(a[3]))])]),e("div",{staticClass:"text-center"},[e("h5",[t._v("Genre: "+t._s(a[4]))])]),e("div",{staticClass:"text-center"},[e("h5",[t._v("Number of Tickets: "+t._s(a[2]))])]),e("div",{staticClass:"text-center"},[e("h5",[t._v("Price: "+t._s(a[5]))])]),e("div",{staticClass:"text-center"},[e("h5",[t._v("Rating: "+t._s(a[2]))])]),e("div",{staticClass:"text-center"},[e("h5",[t._v("Venue: "+t._s(a[6]))])])])])})),0),e("div",{},[e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.goToHome()}}},[t._v("Go back to Home")])])])},Zt=[],Ot={name:"searchShow",data:function(){return{showName:this.$route.params.showName,showDetails:{},searchForShow:""}},methods:{searchShow(t){console.log(t),this.$router.push({name:"searchShow",params:{showName:t}}),this.$router.go()},goToHome(){this.$router.push({name:"home"}),this.$router.go()}},created(){console.log(this.showName),y.Z.post("http://127.0.0.1:5000/api/show-search",{showName:this.showName}).then((t=>{console.log(t.data),this.showDetails=t.data.showDetails})).catch((t=>{console.log(t)}))}},$t=Ot,Ft=(0,u.Z)($t,Lt,Zt,!1,null,"098112d1",null),Vt=Ft.exports;s["default"].use(f.ZP);const At=[{path:"/",name:"intro",component:W},{path:"/intro",name:"intro",component:W},{path:"/home",name:"home",component:E,meta:{}},{path:"/about",name:"about",component:function(){return a.e(443).then(a.bind(a,628))}},{path:"/admin-login",name:"admin-login",component:V},{path:"/login",name:"login",component:U},{path:"/adminDashboard",name:"adminDashboard",component:tt},{path:"/createVenue",name:"createVenue",component:it},{path:"/createShow/:venuename/:venuecapacity",name:"createShow",component:ht},{path:"/editShow/:showname",name:"editShow",component:wt},{path:"/bookTicket/:username/:venuename/:showname",name:"bookTicket",component:kt},{path:"/seeTickets/:username",name:"seeTickets",component:Et},{path:"/searchShow/:showName",name:"searchShow",component:Vt}],It=new f.ZP({routes:At});It.beforeEach(((t,e,a)=>{const s=!!localStorage.getItem("token");t.meta.requiresAuth&&!s?a("/login"):a()}));var Bt=It,jt=a(657),Ht=a(17);a(24);s["default"].use(jt.XG7),s["default"].use(Ht.A7),s["default"].config.productionTip=!1,new s["default"]({router:Bt,render:function(t){return t(g)}}).$mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,n){if(!s){var i=1/0;for(u=0;u<t.length;u++){s=t[u][0],o=t[u][1],n=t[u][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(r=!1,n<i&&(i=n));if(r){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,o,n]}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,s){return a.f[s](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/about.b3c5c3f0.js"}}(),function(){a.miniCssF=function(t){return"css/about.ec99cf86.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="ticket-booking-system:";a.l=function(s,o,n,i){if(t[s])t[s].push(o);else{var r,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var m=c[u];if(m.getAttribute("src")==s||m.getAttribute("data-webpack")==e+n){r=m;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",e+n),r.src=s),t[s]=[o];var h=function(e,a){r.onerror=r.onload=null,clearTimeout(d);var o=t[s];if(delete t[s],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(t){return t(a)})),e)return e(a)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,a,s,o){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var i=function(a){if(n.onerror=n.onload=null,"load"===a.type)s();else{var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=r,n.parentNode&&n.parentNode.removeChild(n),o(l)}};return n.onerror=n.onload=i,n.href=e,a?a.parentNode.insertBefore(n,a.nextSibling):document.head.appendChild(n),n},e=function(t,e){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var o=a[s],n=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(n===t||n===e))return o}var i=document.getElementsByTagName("style");for(s=0;s<i.length;s++){o=i[s],n=o.getAttribute("data-href");if(n===t||n===e)return o}},s=function(s){return new Promise((function(o,n){var i=a.miniCssF(s),r=a.p+i;if(e(i,r))return o();t(s,r,null,o,n)}))},o={143:0};a.f.miniCss=function(t,e){var a={443:1};o[t]?e.push(o[t]):0!==o[t]&&a[t]&&e.push(o[t]=s(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}}(),function(){var t={143:0};a.f.j=function(e,s){var o=a.o(t,e)?t[e]:void 0;if(0!==o)if(o)s.push(o[2]);else{var n=new Promise((function(a,s){o=t[e]=[a,s]}));s.push(o[2]=n);var i=a.p+a.u(e),r=new Error,l=function(s){if(a.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var n=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;r.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",r.name="ChunkLoadError",r.type=n,r.request=i,o[1](r)}};a.l(i,l,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,n,i=s[0],r=s[1],l=s[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(l)var u=l(a)}for(e&&e(s);c<i.length;c++)n=i[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},s=self["webpackChunkticket_booking_system"]=self["webpackChunkticket_booking_system"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(814)}));s=a.O(s)})();
//# sourceMappingURL=app.8702593d.js.map